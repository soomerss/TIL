# 빅데이터의 탐색

## 크로스 집계란
 크로스 테이블이란 Excel에서 흔히 볼 수 있는 데이터 형식으로 행 과 열로 이루어진 접점에 숫자와 같은 데이터가 위치하는 것을 말한다. 예를들어, 매월의 상품별 매출액을 구한다고 할 때 시트명은 매출액, 가장 왼쪽 열에는 상품명을 그리고 각 열에는 연월이 위치하게 되고, 그 접점에는 매출액의 합계가 위치하게 된다. 새로운 데이터가 추가 되게되면 열이 계속해서 추가되는 형식일 것이다.
 트랜잭션 테이블이란 열을 늘리지 않는 방식을 데이터를 집계하는 것으로 시간이 추가되더라도 행만이 계속해서 추가된다. 이러한 테이블형식이 데이터베이스에 적합한 방식일 것이다.
 즉, 데이터베이스에서는 트랜잭션 테이블이 용이하고 사용자입장에서는 크로스테이블이 용이한데, 트랜잭션 테이블을 크로스 테이블로 변환하는 것이 크로스 집계이다.

## 피벗테이블
 엑셀과 같은 스프레드시트에서 피벗테이블 기능이 소량의 데이터를 크로스집계 할 수 있도록 한다. BI 도구에 서도 같은 기능을 제공하고, 파이썬의 판다스에서도 pivot_table을 통해 해당 기능을 제공한다. 중요한 것은 위 기능이 크로스집계를 위한 것이다. 다만 SQL에서는 본래 크로스 테이블을 상정한 것이 아니기 때문에 외부에 시각화 도구를 사용하는 것이 편리하다. 물론 불가능한 것은 아니다.

 ## 열지향 데이터베이스
 빅데이터의 탐색은 데이터 소스로부터 가져와서 데이터 웨어하우스를 구축하고 이를 다시 데이터마트를 통해 시각화할 준비를 마친다. 이 때 소량의 데이터 마트를 구축한다면, MY_SQL과 ORACLE과 같은 행 지향 RDB를 생각해볼 수 있다. 다만, 행지향 데이터베이스는 한 레코드를 한 묶음으로 취급하기 때문에 데이터를 쓰기는 빠르지만, 대용량의 데이터를 읽기에는 적합하지 않다. 또한 한 쿼리는 많은 시간이 소요될 것이라고 상정하지 않았기 때문에 분산처리에 적합하지 않다.
  이때 열 지향 데이터베이스는 aws의 redshift를 들 수 있는데, 위 행지향데이터베이스에서 사용하지 않는 분산처리가 가능한 데이터베이스로 데이터 마트를 구축할 때, 용이하다.

## 애드훅 분석
 데이터를 시각화하기 위해서 간단한, 스몰데이터를 분석하기 위한 것을 애드훅 분석이라 하는데, 여기에는 jupyter 노트북, 대시보드 도구,BI도구 등이 있다.
 대시보드 도구에는 Redash, Superset, kibana가 있고, BI도구에는 POWER BI, TABLea 등이 있다. 이 둘을 엄밀하게 구분하기에는 어렵지만 통상적으로 전체를 간략하게 볼때는 대시보드 도구를 한 부분을 깊게 여러번 보기 위해서는 BI도구를 사용한다고 알려져 있따.

 ## 데이터 마트의 기본 구조
 데이터마트의 기본 구조는 비정규화된 데이터의 집합이라고 할 수 있다. 데이터웨어하우스에는 리소를 적게 쓰기 위해서 정규화를 진행했다면, 데이터 마트에서는 집계를 용이하기 위해서 비정규화된 데이터의 집합을 이루고 이것 자체가 바로 데이터 시각화를 위한 데이터 자체로 쓰인다. 

 